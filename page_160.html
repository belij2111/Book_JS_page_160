<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>chapter 10</title>
</head>

<body>
    <h1 id="main-heading">studying events</h1>


    <script src="https://code.jquery.com/jquery-2.1.0.js"></script>
    <script>
        let counter = 5;
        let leftOffset = 0;
        let topOffset = 0;
        let currentDirection = "right";
        let interval = 30;
        let perimeter = 400;

        let moveHeading = function (pixels) {
            $("#main-heading").offset({ left: leftOffset, top: topOffset })
            if (currentDirection === "right")
                leftOffset++;
            else
                leftOffset--;
            if (leftOffset < 0 && topOffset > 0) {
                leftOffset = 0;
                topOffset--;
            } else if (topOffset === 0) {
                currentDirection = "right";
            }
            if (leftOffset > pixels) {
                leftOffset = pixels;

                topOffset++;
                if (topOffset > pixels) {
                    topOffset = pixels;
                    currentDirection = "left";
                }
                else if (topOffset < 0) {
                    topOffset = 0;
                }
            }
        };
        let movementPerimeter = setInterval(moveHeading, interval, perimeter);
        let accelerator = function () {
            if (counter > 0) {
                document.getElementById("main-heading").innerHTML = counter--;
                clearInterval(movementPerimeter);
                interval -= 5;
                movementPerimeter = setInterval(moveHeading, interval, perimeter);
            } else {
                document.getElementById("main-heading").innerHTML = "You won!!!";
                clearInterval(movementPerimeter);
            }
        }
        $("#main-heading").click(accelerator);

    </script>

</body>

</html>